#!/bin/bash
. /root/.pulp/credentials

DIR=$(cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd)
export PATH=$DIR:$PATH

function updateall {
  pulp-admin rpm repo update --repo-id=$1
}

function login {
  pulp-admin login --username $PULP_USER \
                   --password $PULP_PASSWORD
}

function logout {
  pulp-admin logout
}

login

updateall centos-7-base-x86_64 $@
updateall centos-7-updates-x86_64 $@
updateall centos-6-base-x86_64 $@
updateall centos-6-updates-x86_64 $@
updateall centos-5-base-x86_64 $@
updateall centos-5-updates-x86_64 $@
updateall centos-5.4-base-x86_64 $@
updateall centos-5.4-updates-x86_64 $@
updateall rhel-6-server-x86_64 $@
updateall rhel-6-server-i386 $@
updateall rhel-5-server-x86_64 $@
updateall rhel-5-server-i386 $@
updateall epel-7-x86_64 $@

logout
